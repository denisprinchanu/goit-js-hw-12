{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function renderMarcup(data) {\n  return data.hits\n    .map(\n      el =>\n        `<div class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${el.largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${el.webformatURL}\" alt=\"${el.tags}\" />\n            </a>\n            <div class=\"gallery-item-info\">\n                <p class=\"gallery-item-info-par\">\n                    <span class=\"gallery-item-info-span\">Likes: <span>${el.likes}</span>\n                    </span>\n                </p>\n                <p class=\"gallery-item-info-par\">\n                    <span class=\"gallery-item-info-span\">Views: <span>${el.views}</span>\n                    </span>\n                </p>\n                <p class=\"gallery-item-info-par\">\n                    <span class=\"gallery-item-info-span\">Comments: <span>${el.comments}</span>\n                    </span>\n                </p>\n                <p class=\"gallery-item-info-par\">\n                    <span class=\"gallery-item-info-span\">Downloads: <span>${el.downloads}</span>\n                    </span>\n                </p>\n            </div>\n        </div>`\n    )\n    .join('');\n}\n\nexport function showEndOfListMessage() {\n  iziToast.info({\n    timeout: 3000,\n    position: 'topRight',\n    message: \"We're sorry, but you've reached the end of search results.\",\n  });\n}\n\nexport function showEmptyInputMessage() {\n  iziToast.info({\n    timeout: 3000,\n    position: 'topRight',\n    message: \"The search query can not be epty!\",\n  });\n}\n\nexport function noImagesMessage() {\n  iziToast.error({\n    timeout: 3000,\n    position: 'topRight',\n    message:\n      'There are no images matching your search query. Please, enter something else!',\n  });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nimport {\n    renderMarcup,\n    showEndOfListMessage,\n    showEmptyInputMessage,\n    noImagesMessage,\n  } from './js/render-functions.js';\n  \n  const lightbox = new SimpleLightbox('.gallery a', {\n    nav: true,\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 150,\n  });\n  \n  const form = document.querySelector('.search-form');\n  const container = document.querySelector('.gallery');\n  const loader = document.querySelector('.loader');\n  const loadMoreBtn = document.querySelector('.load-btn');\n  let searchWord = '';\n  let currPage;\n  \n  form.addEventListener('submit', onSubmit);\n  loadMoreBtn.addEventListener('click', onLoadMore);\n  \n  async function onSubmit(event) {\n    currPage = 1;\n    event.preventDefault();\n    container.innerHTML = '';\n    searchWord = form.elements.searchWord.value.trim();\n    loadMoreBtn.style.display = 'block';\n  \n    if (searchWord === '') {\n      showEmptyInputMessage();\n      container.innerHTML = '';\n      loadMoreBtn.style.display = 'none';\n      form.reset();\n      return;\n    }\n    loader.style.display = 'block';\n  \n    try {\n      const images = await fetchImages(searchWord, currPage).then(data => {\n        const marcup = renderMarcup(data);\n        if (data.hits.length === 0) {\n          noImagesMessage();\n          loadMoreBtn.style.display = 'none';\n          loader.style.display = 'none';\n          return;\n        }\n        container.insertAdjacentHTML('beforeend', marcup);\n        lightbox.refresh();\n        loader.style.display = 'none';\n      });\n    } catch (error) {\n      console.error('Error:', error);\n    }\n    form.reset();\n  }\n  \n  async function onLoadMore() {\n    currPage += 1;\n    try {\n      const images = await fetchImages(searchWord, currPage).then(data => {\n        const marcup = renderMarcup(data);\n        container.insertAdjacentHTML('beforeend', marcup);\n        lightbox.refresh();\n  \n        const cardHeight = container.getBoundingClientRect().height;\n        window.scrollBy({\n          top: 2 * cardHeight,\n          behavior: 'smooth',\n        });\n  \n        if (data.hits.length <= 14) {\n          loadMoreBtn.style.display = 'none';\n          showEndOfListMessage();\n          lightbox.refresh();\n        }\n      });\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  }"],"names":["renderMarcup","data","el","showEndOfListMessage","iziToast","showEmptyInputMessage","noImagesMessage","lightbox","SimpleLightbox","form","container","loader","loadMoreBtn","searchWord","currPage","onSubmit","onLoadMore","event","images","marcup","error","cardHeight"],"mappings":"6vBAGO,SAASA,EAAaC,EAAM,CACjC,OAAOA,EAAK,KACT,IACCC,GACE;AAAA,4CACoCA,EAAG,aAAa;AAAA,kDACVA,EAAG,YAAY,UAAUA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA,wEAIVA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,wEAIRA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,2EAILA,EAAG,QAAQ;AAAA;AAAA;AAAA;AAAA,4EAIVA,EAAG,SAAS;AAAA;AAAA;AAAA;AAAA,eAKnF,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,GAAuB,CACrCC,EAAS,KAAK,CACZ,QAAS,IACT,SAAU,WACV,QAAS,4DACb,CAAG,CACH,CAEO,SAASC,GAAwB,CACtCD,EAAS,KAAK,CACZ,QAAS,IACT,SAAU,WACV,QAAS,mCACb,CAAG,CACH,CAEO,SAASE,GAAkB,CAChCF,EAAS,MAAM,CACb,QAAS,IACT,SAAU,WACV,QACE,+EACN,CAAG,CACH,CC3CE,MAAMG,EAAW,IAAIC,EAAe,aAAc,CAChD,IAAK,GACL,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EAEKC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAc,SAAS,cAAc,WAAW,EACtD,IAAIC,EAAa,GACbC,EAEJL,EAAK,iBAAiB,SAAUM,CAAQ,EACxCH,EAAY,iBAAiB,QAASI,CAAU,EAEhD,eAAeD,EAASE,EAAO,CAO7B,GANAH,EAAW,EACXG,EAAM,eAAc,EACpBP,EAAU,UAAY,GACtBG,EAAaJ,EAAK,SAAS,WAAW,MAAM,KAAI,EAChDG,EAAY,MAAM,QAAU,QAExBC,IAAe,GAAI,CACrBR,IACAK,EAAU,UAAY,GACtBE,EAAY,MAAM,QAAU,OAC5BH,EAAK,MAAK,EACV,MACD,CACDE,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMO,EAAS,MAAM,YAAYL,EAAYC,CAAQ,EAAE,KAAKb,GAAQ,CAClE,MAAMkB,EAASnB,EAAaC,CAAI,EAChC,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BK,IACAM,EAAY,MAAM,QAAU,OAC5BD,EAAO,MAAM,QAAU,OACvB,MACD,CACDD,EAAU,mBAAmB,YAAaS,CAAM,EAChDZ,EAAS,QAAO,EAChBI,EAAO,MAAM,QAAU,MAC/B,CAAO,CACF,OAAQS,EAAO,CACd,QAAQ,MAAM,SAAUA,CAAK,CAC9B,CACDX,EAAK,MAAK,CACX,CAED,eAAeO,GAAa,CAC1BF,GAAY,EACZ,GAAI,CACF,MAAMI,EAAS,MAAM,YAAYL,EAAYC,CAAQ,EAAE,KAAKb,GAAQ,CAClE,MAAMkB,EAASnB,EAAaC,CAAI,EAChCS,EAAU,mBAAmB,YAAaS,CAAM,EAChDZ,EAAS,QAAO,EAEhB,MAAMc,EAAaX,EAAU,sBAAqB,EAAG,OACrD,OAAO,SAAS,CACd,IAAK,EAAIW,EACT,SAAU,QACpB,CAAS,EAEGpB,EAAK,KAAK,QAAU,KACtBW,EAAY,MAAM,QAAU,OAC5BT,IACAI,EAAS,QAAO,EAE1B,CAAO,CACF,OAAQa,EAAO,CACd,QAAQ,MAAM,SAAUA,CAAK,CAC9B,CACL"}